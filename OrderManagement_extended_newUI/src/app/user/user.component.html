
<!-- 
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" > -->
<!-- <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script> -->

<nav class="navbar navbar-expand-lg navbar-light bg-primary">
  <div class="container-fluid">
    <!-- Title on the left -->
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="assets/logo.png" alt="Brand Logo" width="50" height="50" class="d-inline-block align-text-top">
      {{ title }}
    </a>

    <!-- Search bar in the middle -->
    <form class="d-flex m-auto">
      <app-search-bar (search)="searchResults($event)"></app-search-bar>
    </form>
    <div>
      Welcome {{userName}}!
    </div>
    <!-- Right side: Home, Cart, User icons -->
    <ul class="navbar-nav ms-2 mb-2 mb-lg-0">
      <li class="nav-item">
        <a class="nav-link nav-link-custom" matTooltipPosition="below" matTooltip="Home" [routerLink]="['home']"  [queryParamsHandling]="'preserve'" routerLinkActive="router-link-active"  (click)="clearSearch()"><i class="bi bi-house"></i></a> <!-- Home icon -->
      </li>
      <li class="nav-item">
        <a class="nav-link nav-link-custom open-cart" matTooltipPosition="below" matTooltip="Cart" (click)="openCart()"><i class="bi bi-cart"></i></a> <!-- Cart icon -->
      </li>
 
      <!-- User dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link nav-link-custom dropdown-toggle" matTooltipPosition="below" matTooltip="User" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person"></i>
        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <li><a class="dropdown-item" [routerLink]="['profile']" [queryParamsHandling]="'preserve'" routerLinkActive="active" (click)="clearSearch()">Profile</a></li>
          <li><a class="dropdown-item" [routerLink]="['orders']" [queryParamsHandling]="'preserve'" routerLinkActive="active" (click)="clearSearch()">Orders</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" (click)="logout()">Logout</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>
<div class="container">
  <div class="row">
    <div *ngIf="!search; else searchItem" class="col auto">
      <router-outlet></router-outlet>
    </div>
    <ng-template #searchItem>
        <app-item-card [itemData]="itemData" [loading]="loading"></app-item-card>      
    </ng-template>

  </div>
</div>

 <!-- <app-orders *ngIf="ordersVisible"></app-orders>  -->
<!-- <app-cart *ngIf="cartVisible"></app-cart> -->

<!-- <app-cart *ngIf="cartVisible" (visible)="closeCart()"></app-cart> -->